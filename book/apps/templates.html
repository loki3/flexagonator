<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <link rel="icon" href="favicon.ico" />
  <title>Flexagon Templates</title>

  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
        'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
        sans-serif;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

  </style>

  <script src="../../build/out.js"></script>
  <script src="templates.js"></script>
  <script type="text/javascript">
    const gDefaultSize = 800;
    let gName = "";  // current template
    let gFace = 'both';  // track whether template should show front and/or back faces

    function fillTemplateList() {
      const input = document.getElementById("templateList");
      const ids = Object.getOwnPropertyNames(allTemplates);
      for (const id of ids) {
        const option = document.createElement("option");
        option.value = id;
        if (id.startsWith("fig")) {
          option.text = `figure ${id.substring(3)}`;
        } else {
          option.text = id;
        }
        input.add(option);
      }
      input.selectedIndex = 0;
    }

    function clearAll() {
      const output = document.getElementById("image");
      output.innerHTML = "";
      output.style.width = output.style.height = gDefaultSize;
      for (let i = 0; i < 6; i++) {
        const output = document.getElementById(`image-${i + 1}`);
        output.innerHTML = "";
      }
    }

    function enableButtons(name) {
      // can display front/back for a scripted template, but not a bitmap
      const disabled = isBitmapTemplate(name);
      document.getElementById("frontButton").disabled = disabled;
      document.getElementById("backButton").disabled = disabled;
    }

    function showTemplate(name) {
      gName = name;
      clearAll();
      drawTemplate(name, "image", gFace);
      enableButtons(name);
    }

    function setTemplateFaces(option) {
      gFace = option;
      showTemplate(gName);
    }
  </script>
</head>

<body>

  <h1>Templates</h1>

  <p>
    <select id="templateList" onchange="showTemplate(event.target.value)">
  </select>
    &nbsp;&nbsp;&nbsp;
    show faces:
    <input onclick="setTemplateFaces('both');" type="button" value="front & back" id="bothButton" />
    <input onclick="setTemplateFaces('front');" type="button" value="front" id="frontButton" />
    <input onclick="setTemplateFaces('back');" type="button" value="back" id="backButton" />
  </p>

  <span id="image" width="800" height="800"></span>
  <span id="image-1" width="800" height="800"></span>
  <span id="image-2" width="800" height="800"></span>
  <span id="image-3" width="800" height="800"></span>
  <span id="image-4" width="800" height="800"></span>
  <span id="image-5" width="800" height="800"></span>
  <span id="image-6" width="800" height="800"></span>

  <script type="text/javascript">
    fillTemplateList();
    showTemplate("fig1.1");
  </script>
</body>

</html>
