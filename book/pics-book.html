<!DOCTYPE html>
<meta charset="UTF-8">
<html>

<head>
  <title>book illustrations</title>

  <style>
    th {
      font-family: Arial;
      text-align: center;
    }

    /* styles for spacing collections of photos */
    div.photos {
      line-height: 2;
      letter-spacing: 1px;
    }

    .photos img {
      border: 1px solid gray;
    }

    /* styles for adding numbers to photos */
    span.n {
      position: relative;
      display: inline-block;
    }

    .n p {
      position: absolute;
      top: 0;
      left: 0;
      transform: translate(8%, -44%);
      background-color: rgba(255, 255, 255, 0.8);
      padding: 1px;
      text-align: center;
    }

  </style>

  <script src="../build/out.js"></script>
  <script type="text/javascript">
    // draw * on the edges that should be taped together
    const firstStar = { text: "⚹", which: 0, scale: 1.8 };
    const lastStar = { text: "⚹", which: -1, scale: 1.8 };
    const starCaptions = [firstStar, lastStar];
    // common colors for faces
    const labelAsTree = [0x7fbcff, 0x7fff82, 0xff827f, 0xc27fff, 0xfbff7f, 0xa58252, 0xdddddd];

    // draw an unfolded strip on the given canvas
    // pass in a full script & full options for drawUnfolded
    function drawStripComplex(canvasId, script, drawOptions) {
      const fm = Flexagonator.createFromScript(script);
      if (Flexagonator.isError(fm)) { console.log("drawStripComplex - ", Flexagonator.errorToString(fm)); return; }
      Flexagonator.drawUnfolded(canvasId, fm, drawOptions);
    }

    // draw a folded flexagon, showing possible flexes
    function drawFlexagonComplex(canvasId, script, options) {
      const fm = Flexagonator.createFromScript(script);
      if (Flexagonator.isError(fm)) { console.log("drawFlexagonComplex - ", Flexagonator.errorToString(fm)); return; }
      const defaultOptions = { showIds: false, showCurrent: false };
      const regions = Flexagonator.drawEntireFlexagon(canvasId, fm, { ...defaultOptions, ...options });
      Flexagonator.drawScriptButtons(canvasId, fm.flexagon, fm.getAngleInfo(), true, regions);
    }

    function drawFromName(canvasId, name, rotation) {
      const fm = Flexagonator.createFromScript([{ name }]);
      if (Flexagonator.isError(fm)) { console.log("drawFromName - ", Flexagonator.errorToString(fm)); return; }
      Flexagonator.drawUnfolded(canvasId, fm, { rotation, content: {} });
    }

    // draw the Tuckerman diagram for a flexagon with the given generating sequence,
    // optionally highlighting one flex sequence
    function drawTuckerman(canvasId, generator, highlight) {
      const fm = Flexagonator.createFromScript([{ flexes: generator }]);
      if (Flexagonator.isError(fm)) { console.log("drawTuckerman - ", Flexagonator.errorToString(fm)); return; }
      const traverse = Flexagonator.findTuckermanTraverse(fm.flexagon);
      Flexagonator.drawPinchGraph(canvasId, { traverse: traverse, flexes: highlight });
    }

    // draw a series of flexagons in different states based on a sequence,
    // expects several canvases (canvasId + "1", canvasId + "2", ...)
    // generator is the generating sequence for creating the flexagon,
    // sequence is an array of flexes to perform one at a time
    // [optional] amount to scale
    // [optional] amount to rotate
    function drawSequence(canvasId, numPats, generator, sequence, scale, rotate, showCurrent) {
      const script = [{ numPats }, { flexes: generator }, { labelAsTree }];
      const fm = Flexagonator.createFromScript(script);
      if (Flexagonator.isError(fm)) { console.log("drawSequence - ", Flexagonator.errorToString(fm)); return; }
      for (let i = 0; i < sequence.length; i++) {
        const id = canvasId + (i + 1).toString();
        fm.applyFlexes(sequence[i]);
        Flexagonator.drawEntireFlexagon(id, fm, { showIds: false, scale, rotate, showCurrent: false });
      }
    }

    // draw front/back of the before/after states of a flex using the given # of pats & optional angles,
    // requires 4 drawing areas that are canvasId + "-before/after-1/2"
    function drawBeforeAfter(canvasId, flex, numPats, angles2, script) {
      if (!script) {
        script = [{ numPats, flexes: flex + "+", angles2, labelAsTree }];
      }
      const fm = Flexagonator.createFromScript(script);
      if (Flexagonator.isError(fm)) { console.log("drawBeforeAfter - ", Flexagonator.errorToString(fm)); return; }
      const rotate = numPats === 6 ? -30 : numPats === 8 ? -22.5 : 0;
      const options = { showIds: false, scale: 1.1, rotate, showCurrent: true, showCenterMarker: true };
      const options1 = { ...options, structure: true };
      const options2 = { ...options, back: true };

      Flexagonator.drawEntireFlexagon(canvasId + "-before-1", fm, options1);
      Flexagonator.drawEntireFlexagon(canvasId + "-before-2", fm, options2);
      fm.applyFlexes(flex);
      Flexagonator.drawEntireFlexagon(canvasId + "-after-1", fm, options1);
      Flexagonator.drawEntireFlexagon(canvasId + "-after-2", fm, options2);
    }
  </script>
</head>

<body>
  <h1>Book illustrations</h1>

  <ul>
    <li><a href="#intro">Introduction</a></li>
    <li><a href="#part1">Part One: Symmetric Flexes</a></li>
    <ul>
      <li><a href="#pinch">1: pinch flex</a></li>
      <li><a href="#tetra-octa">4: triangle tetra & octaflexagons</a></li>
      <li><a href="#different">5: different triangles</a></li>
      <li><a href="#pinch-variations">6: pinch variations</a></li>
      <li><a href="#book">7: book flex</a></li>
      <li><a href="#box">8: box flex</a></li>
    </ul>
    <li><a href="#part2">Part Two: Asymmetric Flexes</a></li>
    <ul>
      <li><a href="#flex-diagrams">9: flex diagrams</a></li>
      <li><a href="#vflex">10: v flex</a></li>
      <li><a href="#tuck">11: tuck flex</a></li>
      <li><a href="#flip">12: flip flex</a></li>
      <li><a href="#pyramid shuffle">13: pyramid shuffle</a></li>
      <li><a href="#breakdown">14: breaking down flexes</a></li>
      <li><a href="#slot-flexes">15: slot flexes</a></li>
    </ul>
    <li><a href="#part3">Part Three: Learning</a></li>
    <ul>
      <li><a href="#state-diagrams">17: state diagrams</a></li>
      <li><a href="#sequences">18: sequences</a></li>
      <li><a href="#pat-notation">19: pat notation</a></li>
      <li><a href="#atomic-flex-theory">20: atomic flex theory</a></li>
      <li><a href="#groups">22: groups</a></li>
      <li><a href="#computers">23: computers</a></li>
    </ul>
    <li><a href="#part4">Part Four: Exploring</a></li>
    <ul>
      <li><a href="#square-silver-octa">28: square silver octa</a></li>
      <li><a href="#hexa-bronze-dodeca">29: hexagonal bronze dodeca</a></li>
      <li><a href="#hexa-silver-dodeca">30: hexagonal silver dodeca</a></li>
      <li><a href="#bracelets">31: bracelets</a></li>
      <li><a href="#octa-ring-14">32: octagonal ring tetradecaflexagon</a></li>
    </ul>
    <li><a href="#part5">Part Five: Fun</a></li>
    <ul>
      <li><a href="#decorating">34: decorating</a></li>
      <li><a href="#puzzles">36: puzzles & mazes</a></li>
      <li><a href="#popups">37: popups</a></li>
    </ul>
    <li><a href="#appendix">Appendix</a></li>
    <ul>
      <li><a href="#compendium">compendium</a></li>
    </ul>
  </ul>

  <hr />

  <!-- intro -->

  <h2 id="intro">Introduction</h2>

  <img src="photos/intro/samples.jpg" height="600" /><br/><br/>

  <!-- part 1 -->

  <hr />

  <h2 id="part1">Part One: Symmetric Flexes</h2>

  <!-- pinch flex-->
  <h3 id="pinch">pinch flex</h3>

  <span id="tri-hexa" width="200" height="174"></span><br/><br/>
  <script type="text/javascript">
    drawFromName('tri-hexa', 'hexaflexagon', 0);
  </script>

  <h4>tri-hexaflexagon</h4>
  <div class="photos">
    <span class="n"><p>1</p><img src="photos/pinch/pinch (2).jpg" width="150"/></span>
    <span class="n"><p>2</p><img src="photos/pinch/pinch (1).jpg" width="150"/></span>
    <span class="n"><p>3</p><img src="photos/pinch/pinch (3).jpg" width="150"/></span>
    <span class="n"><img src="photos/pinch/pinch (4).jpg" width="150"/></span>
    <span class="n"><p>4</p><img src="photos/pinch/pinch (5).jpg" width="150"/></span>
    <br/>
    <span class="n"><img src="photos/pinch/pinch (6).jpg" width="150"/></span>
    <span class="n"><p>5</p><img src="photos/pinch/pinch (7).jpg" width="150"/></span>
    <span class="n"><p>6</p><img src="photos/pinch/pinch (8).jpg" width="150"/></span>
    <span class="n"><p>7</p><img src="photos/pinch/pinch (10).jpg" width="150"/></span>
    <span class="n"><img src="photos/pinch/pinch (11).jpg" width="150"/></span>
  </div>

  <!-- triangle tetra & octa -->
  <h3 id="tetra-octa">triangle tetra & octa</h3>

  <h4>regular tri-tetraflexagon</h4>
  <div class="photos">
    <span class="n"><p>1</p><img src="photos/tetra-octa/tri-tetra (1).jpg" width="150"/></span>
    <span class="n"><img src="photos/tetra-octa/tri-tetra (2).jpg" width="150"/></span>
    <span class="n"><p>2</p><img src="photos/tetra-octa/tri-tetra (3).jpg" height="150"/></span>
    <span class="n"><img src="photos/tetra-octa/tri-tetra (4).jpg" height="150"/></span>
    <span class="n"><p>3</p><img src="photos/tetra-octa/tri-tetra (5).jpg" height="150"/></span>
    <span class="n"><p>4</p><img src="photos/tetra-octa/tri-tetra (6).jpg" width="150"/></span>
  </div>

  <h4>regular penta-tetraflexagon</h4>
  <div class="photos">
    <span class="n"><p>1</p><img src="photos/tetra-octa/penta-tetra (1).jpg" width="150"/></span>
    <span class="n"><p>2</p><img src="photos/tetra-octa/penta-tetra (2).jpg" width="150"/></span>
    <span class="n"><img src="photos/tetra-octa/penta-tetra (3).jpg" width="150"/></span>
    <span class="n"><p>3</p><img src="photos/tetra-octa/penta-tetra (4).jpg" width="150"/></span>
    <span class="n"><p>4</p><img src="photos/tetra-octa/penta-tetra (5).jpg" width="150"/></span>
    <br/>
    <span class="n"><img src="photos/tetra-octa/penta-tetra (6).jpg" width="150"/></span>
    <span class="n"><p>5</p><img src="photos/tetra-octa/penta-tetra (7).jpg" width="150"/></span>
    <span class="n"><img src="photos/tetra-octa/penta-tetra (8).jpg" width="150"/></span>
    <span class="n"><p>6</p><img src="photos/tetra-octa/penta-tetra (9).jpg" width="150"/></span>
    <span class="n"><img src="photos/tetra-octa/penta-tetra (10).jpg" width="150"/></span>
  </div>

  <h4>regular tri-octaflexagon</h4>
  <div class="photos">
    <span class="n"><p>1</p><img src="photos/tetra-octa/tri-octa (1).jpg" width="150"/></span>
    <span class="n"><p>2</p><img src="photos/tetra-octa/tri-octa (2).jpg" width="150"/></span>
    <span class="n"><p>3</p><img src="photos/tetra-octa/tri-octa (3).jpg" width="150"/></span>
    <span class="n"><p>4</p><img src="photos/tetra-octa/tri-octa (4).jpg" width="150"/></span>
  </div>

  <h4>regular penta-octaflexagon</h4>
  <div class="photos">
    <span class="n"><p>1</p><img src="photos/tetra-octa/penta-octa (1).jpg" width="150"/></span>
    <span class="n"><p>2</p><img src="photos/tetra-octa/penta-octa (2).jpg" width="150"/></span>
    <span class="n"><p>3</p><img src="photos/tetra-octa/penta-octa (3).jpg" width="150"/></span>
    <span class="n"><p>4</p><img src="photos/tetra-octa/penta-octa (4).jpg" width="150"/></span>
    <br/>
    <span class="n"><img src="photos/tetra-octa/penta-octa (5).jpg" width="150"/></span>
    <span class="n"><p>5</p><img src="photos/tetra-octa/penta-octa (6).jpg" width="150"/></span>
    <span class="n"><p>6</p><img src="photos/tetra-octa/penta-octa (7).jpg" width="150"/></span>
  </div>

  <!-- different triangles -->
  <h3 id="different">different triangles</h3>

  <span id="diff-triangle" width="200" height="174"></span><br/><br/>
  <script type="text/javascript">
    drawFromName('diff-triangle', 'triangle bronze hexaflexagon', 30);
  </script>

  <h4>bronze pinch</h4>
  <div class="photos">
    <span class="n"><p>1</p><img src="photos/pinch-bronze/pinch (1).jpg" width="150"/></span>
    <span class="n"><img src="photos/pinch-bronze/pinch (2).jpg" width="150"/></span>
    <span class="n"><img src="photos/pinch-bronze/pinch (3).jpg" width="150"/></span>
    <span class="n"><p>2</p><img src="photos/pinch-bronze/pinch (4).jpg" width="150"/></span>
    <span class="n"><p>3</p><img src="photos/pinch-bronze/pinch (5).jpg" width="150"/></span>
    <span class="n"><p>4</p><img src="photos/pinch-bronze/pinch (6).jpg" width="150"/></span>
    <br/>
    <span class="n"><img src="photos/pinch-bronze/pinch (7).jpg" width="150"/></span>
    <span class="n"><p>5</p><img src="photos/pinch-bronze/pinch (8).jpg" width="150"/></span>
    <span class="n"><p>6</p><img src="photos/pinch-bronze/pinch (9).jpg" width="150"/></span>
    <span class="n"><p>7</p><img src="photos/pinch-bronze/pinch (10).jpg" width="150"/></span>
    <span class="n"><img src="photos/pinch-bronze/pinch (11).jpg" width="150"/></span>
    <span class="n"><p>8</p><img src="photos/pinch-bronze/pinch (12).jpg" width="150"/></span>
  </div>

  <span id="diff-square8" width="200" height="201"></span><br/><br/>
  <script type="text/javascript">
    drawFromName('diff-square8', 'square silver octaflexagon', 0);
  </script>

  <h4>silver pinch</h4>
  <div class="photos">
    <span class="n"><p>1</p><img src="photos/pinch-silver/pinch-tri (1).jpg" width="150"/></span>
    <span class="n"><img src="photos/pinch-silver/pinch-tri (2).jpg" width="150"/></span>
    <span class="n"><img src="photos/pinch-silver/pinch-tri (3).jpg" width="150"/></span>
    <span class="n"><p>2</p><img src="photos/pinch-silver/pinch-tri (4).jpg" width="150"/></span>
    <span class="n"><img src="photos/pinch-silver/pinch-tri (5).jpg" width="150"/></span>
    <span class="n"><p>3</p><img src="photos/pinch-silver/pinch-tri (6).jpg" width="150"/></span>
    <br/>
    <span class="n"><img src="photos/pinch-silver/pinch-tri (7).jpg" width="150"/></span>
    <span class="n"><img src="photos/pinch-silver/pinch-tri (8).jpg" width="150"/></span>
    <span class="n"><p>4</p><img src="photos/pinch-silver/pinch-tri (9).jpg" width="150"/></span>
    <span class="n"><p>5</p><img src="photos/pinch-silver/pinch-tri (10).jpg" width="150"/></span>
    <span class="n"><p>6</p><img src="photos/pinch-silver/pinch-tri (11).jpg" width="150"/></span>
    <span class="n"><img src="photos/pinch-silver/pinch-tri (12).jpg" width="150"/></span>
  </div>

  <h4>alternate pinch</h4>
  <div class="photos">
    <span class="n"><p>1</p><img src="photos/pinch-silver/alt (1).jpg" width="150"/></span>
    <span class="n"><img src="photos/pinch-silver/alt (2).jpg" width="150"/></span>
    <span class="n"><img src="photos/pinch-silver/alt (3).jpg" width="150"/></span>
    <span class="n"><p>2</p><img src="photos/pinch-silver/alt (4).jpg" width="150"/></span>
    <span class="n"><img src="photos/pinch-silver/alt (5).jpg" width="150"/></span>
    <span class="n"><p>3</p><img src="photos/pinch-silver/alt (6).jpg" width="150"/></span>
    <br/>
    <span class="n"><img src="photos/pinch-silver/alt (7).jpg" width="150"/></span>
    <span class="n"><p>4</p><img src="photos/pinch-silver/alt (8).jpg" width="150"/></span>
    <span class="n"><p>5</p><img src="photos/pinch-silver/alt (9).jpg" width="150"/></span>
    <span class="n"><img src="photos/pinch-silver/alt (10).jpg" width="150"/></span>
    <span class="n"><p>6</p><img src="photos/pinch-silver/alt (11).jpg" width="150"/></span>
    <span class="n"><img src="photos/pinch-silver/alt (12).jpg" width="150"/></span>
  </div>

  <h4>reverse pass-through</h4>
  <div class="photos">
    <span class="n"><p>1</p><img src="photos/pinch-silver/reverse-pass-thru (1).jpg" width="150"/></span>
    <span class="n"><img src="photos/pinch-silver/reverse-pass-thru (2).jpg" width="150"/></span>
    <span class="n"><img src="photos/pinch-silver/reverse-pass-thru (3).jpg" width="150"/></span>
    <span class="n"><p>2</p><img src="photos/pinch-silver/reverse-pass-thru (4).jpg" width="150"/></span>
    <span class="n"><p>3</p><img src="photos/pinch-silver/reverse-pass-thru (5).jpg" width="150"/></span>
    <span class="n"><img src="photos/pinch-silver/reverse-pass-thru (6).jpg" width="150"/></span>
    <br/>
    <span class="n"><p>4</p><img src="photos/pinch-silver/reverse-pass-thru (7).jpg" width="150"/></span>
    <span class="n"><img src="photos/pinch-silver/reverse-pass-thru (8).jpg" width="150"/></span>
    <span class="n"><img src="photos/pinch-silver/reverse-pass-thru (9).jpg" width="150"/></span>
    <span class="n"><p>5</p><img src="photos/pinch-silver/reverse-pass-thru (10).jpg" width="150"/></span>
    <span class="n"><p>6</p><img src="photos/pinch-silver/reverse-pass-thru (11).jpg" width="150"/></span>
    <span class="n"><p>7</p><img src="photos/pinch-silver/reverse-pass-thru (12).jpg" width="150"/></span>
    <br/>
    <span class="n"><p>8</p><img src="photos/pinch-silver/reverse-pass-thru (13).jpg" width="150"/></span>
    <span class="n"><img src="photos/pinch-silver/reverse-pass-thru (14).jpg" width="150"/></span>
    <span class="n"><p>9</p><img src="photos/pinch-silver/reverse-pass-thru (15).jpg" width="150"/></span>
    <span class="n"><img src="photos/pinch-silver/reverse-pass-thru (16).jpg" width="150"/></span>
  </div>

  <span id="diff-square4" width="200" height="201"></span><br/><br/>
  <script type="text/javascript">
    drawFromName('diff-square4', 'square silver tetraflexagon', 45);
  </script>

  <h4>silver tetra</h4>
  <div class="photos">
    <span class="n"><p>1</p><img src="photos/silver-tetra/pinch (1).jpg" width="150"/></span>
    <span class="n"><img src="photos/silver-tetra/pinch (2).jpg" width="150"/></span>
    <span class="n"><img src="photos/silver-tetra/pinch (3).jpg" width="150"/></span>
    <span class="n"><p>2</p><img src="photos/silver-tetra/pinch (4).jpg" width="150"/></span>
    <span class="n"><img src="photos/silver-tetra/pinch (5).jpg" width="150"/></span>
    <span class="n"><img src="photos/silver-tetra/pinch (6).jpg" width="150"/></span>
    <br/>
    <span class="n"><p>3</p><img src="photos/silver-tetra/pinch (7).jpg" width="150"/></span>
    <span class="n"><img src="photos/silver-tetra/pinch (8).jpg" width="150"/></span>
    <span class="n"><img src="photos/silver-tetra/pinch (9).jpg" width="150"/></span>
    <span class="n"><p>4</p><img src="photos/silver-tetra/pinch (10).jpg" width="150"/></span>
    <span class="n"><img src="photos/silver-tetra/pinch (11).jpg" width="150"/></span>
  </div>

  <!-- pinch flex variations -->
  <h3 id="pinch-variations">pinch flex variations</h3>

  <h4>P333</h4>
  <div class="photos">
    <span class="n"><p>1</p><img src="photos/p333/p333 (1).jpg" width="150"/></span>
    <span class="n"><p>2</p><img src="photos/p333/p333 (2).jpg" width="150"/></span>
    <span class="n"><img src="photos/p333/p333 (3).jpg" width="150"/></span>
    <span class="n"><p>3</p><img src="photos/p333/p333 (4).jpg" width="150"/></span>
    <span class="n"><img src="photos/p333/p333 (5).jpg" width="150"/></span>
    <span class="n"><p>4</p><img src="photos/p333/p333 (6).jpg" width="150"/></span>
    <br/>
    <span class="n"><p>5</p><img src="photos/p333/p333 (7).jpg" width="150"/></span>
    <span class="n"><p>6</p><img src="photos/p333/p333 (8).jpg" width="150"/></span>
    <span class="n"><img src="photos/p333/p333 (9).jpg" width="150"/></span>
    <span class="n"><p>7</p><img src="photos/p333/p333 (10).jpg" width="150"/></span>
    <span class="n"><img src="photos/p333/p333 (11).jpg" width="150"/></span>
  </div>

  <h4>P3333, P444, P66</h4>
  <div class="photos">
    <span class="n"><p>1</p><img src="photos/p444/p444 (1).jpg" width="150"/></span>
    <span class="n"><p>2</p><img src="photos/p444/p444 (2).jpg" width="150"/></span>
    <span class="n"><p>3</p><img src="photos/p444/p444 (3).jpg" width="150"/></span>
    <span class="n"><img src="photos/p444/p444 (4).jpg" width="150"/></span>
    <span class="n"><p>4</p><img src="photos/p444/p444 (5).jpg" width="150"/></span>
    <span class="n"><img src="photos/p444/p444 (6).jpg" width="150"/></span>
    <br/>
    <span class="n"><p>5</p><img src="photos/p444/p444 (7).jpg" width="150"/></span>
    <span class="n"><img src="photos/p444/p444 (8).jpg" width="150"/></span>
    <span class="n"><p>6</p><img src="photos/p444/p444 (9).jpg" width="150"/></span>
    <span class="n"><img src="photos/p444/p444 (10).jpg" width="150"/></span>
    <span class="n"><p>7</p><img src="photos/p444/p444 (11).jpg" width="150"/></span>
    <span class="n"><img src="photos/p444/p444 (12).jpg" width="150"/></span>
  </div>

  <h4>P223</h4>
  <div class="photos">
    <span class="n"><p>1</p><img src="photos/p223/p223 (1).jpg" width="150"/></span>
    <span class="n"><p>2</p><img src="photos/p223/p223 (2).jpg" width="150"/></span>
    <span class="n"><img src="photos/p223/p223 (3).jpg" width="150"/></span>
    <span class="n"><p>3</p><img src="photos/p223/p223 (4).jpg" width="150"/></span>
    <span class="n"><img src="photos/p223/p223 (5).jpg" width="150"/></span>
    <span class="n"><p>4</p><img src="photos/p223/p223 (6).jpg" width="150"/></span>
    <br/>
    <span class="n"><p>5</p><img src="photos/p223/p223 (7).jpg" width="150"/></span>
    <span class="n"><p>6</p><img src="photos/p223/p223 (8).jpg" width="150"/></span>
    <span class="n"><p>7</p><img src="photos/p223/p223 (9).jpg" width="150"/></span>
    <span class="n"><p>8</p><img src="photos/p223/p223 (10).jpg" width="150"/></span>
    <span class="n"><p>9</p><img src="photos/p223/p223 (11).jpg" width="150"/></span>
    <span class="n"><img src="photos/p223/p223 (12).jpg" width="150"/></span>
  </div>

  <h3 id="book">book flex</h3>

  <div class="photos">
    <span class="n"><img src="photos/book/book (1).jpg" height="150"/></span>
    <span class="n"><p>1</p><img src="photos/book/book (2).jpg" height="150"/></span>
    <span class="n"><img src="photos/book/book (3).jpg" height="150"/></span>
    <span class="n"><p>2</p><img src="photos/book/book (4).jpg" height="150"/></span>
    <span class="n"><img src="photos/book/book (5).jpg" height="150"/></span>
    <span class="n"><img src="photos/book/book (6).jpg" height="150"/></span>
    <span class="n"><p>3</p><img src="photos/book/book (7).jpg" height="150"/></span>
  </div>

  <h3 id="box">box flex</h3>

  <div class="photos">
    <span class="n"><img src="photos/box/box (1).jpg" height="150"/></span>
    <span class="n"><p>1</p><img src="photos/box/box (2).jpg" height="150"/></span>
    <span class="n"><p>2</p><img src="photos/box/box (3).jpg" height="150"/></span>
    <span class="n"><img src="photos/box/box (4).jpg" height="150"/></span>
    <span class="n"><p>3</p><img src="photos/box/box (5).jpg" height="150"/></span>
    <span class="n"><img src="photos/box/box (6).jpg" height="150"/></span>
    <span class="n"><p>4</p><img src="photos/box/box-top (7).jpg" height="150"/></span>
    <span class="n"><img src="photos/box/box-top (8).jpg" height="150"/></span>
  </div>
  <div class="photos">
    <span class="n"><img src="photos/box/box (1).jpg" height="150"/></span>
    <span class="n"><p>1</p><img src="photos/box/box (2).jpg" height="150"/></span>
    <span class="n"><p>2</p><img src="photos/box/box (3).jpg" height="150"/></span>
    <span class="n"><img src="photos/box/box (4).jpg" height="150"/></span>
    <span class="n"><p>3</p><img src="photos/box/box (5).jpg" height="150"/></span>
    <span class="n"><img src="photos/box/box (6).jpg" height="150"/></span>
    <span class="n"><p>4</p><img src="photos/box/box-bottom (7).jpg" height="150"/></span>
    <span class="n"><img src="photos/box/box-bottom (8).jpg" height="150"/></span>
  </div>

  <hr />

  <!-- Part 2-->

  <h2 id="part2">Part Two: Asymmetric Flexes</h2>

  <h3 id="flex-diagrams">flex diagrams</h3>

  <span id="structure-2" width="250" height="218"></span>
  <span id="structure-3a" width="300" height="218"></span>
  <span id="structure-3b" width="300" height="218"></span>
  <br/>
  <span id="structure-4a" width="310" height="300"></span>
  <span id="structure-4b" width="290" height="300"></span>
  <span id="structure-4c" width="290" height="202"></span>
  <br/><br/>
  <script type="text/javascript">
    function getStructScript(struct) {
      return [{ pats: [0, struct, 0, 0], labelAsTree: [] }];
    }
    function getStructOptions(rotation, end, text) {
      return { rotation, end, content: { showLeafProps: true }, captions: [{ text, which: 0 }, lastStar] };
    }
    drawStripComplex("structure-2", getStructScript([0, 0]), getStructOptions(60, 3, "2"));
    drawStripComplex("structure-3a", getStructScript([[0, 0], 0]), getStructOptions(120, 4, "3a"));
    drawStripComplex("structure-3b", getStructScript([0, [0, 0]]), getStructOptions(120, 4, "3b"));
    drawStripComplex("structure-4a", getStructScript([[[0, 0], 0], 0]), getStructOptions(90, 5, "4a"));
    drawStripComplex("structure-4b", getStructScript([[0, 0], [0, 0]]), getStructOptions(120, 5, "4b"));
    drawStripComplex("structure-4c", getStructScript([[0, [0, 0]], 0]), getStructOptions(60, 5, "4c"));
  </script>

  <span id="P-minimal-before-1" width="210" height="200"></span>
  <span id="P-minimal-before-2" width="180" height="200"></span>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  <span id="P-minimal-after-1" width="210" height="200"></span>
  <span id="P-minimal-after-2" width="180" height="200"></span>
  <script type="text/javascript">
    drawBeforeAfter("P-minimal", "P", 6, [60, 60]);
  </script>

  <h3 id="vflex">v flex</h3>

  <div class="photos">
    <span class="n"><img src="photos/v/v (1).jpg" height="150"/></span>
    <span class="n"><p>1</p><img src="photos/v/v (2).jpg" height="150"/></span>
    <span class="n"><img src="photos/v/v (3).jpg" height="150"/></span>
    <span class="n"><p>2</p><img src="photos/v/v (4).jpg" height="150"/></span>
    <span class="n"><img src="photos/v/v (5).jpg" height="150"/></span>
    <br/>
    <span class="n"><p>3</p><img src="photos/v/v (6).jpg" height="150"/></span>
    <span class="n"><img src="photos/v/v (7).jpg" height="150"/></span>
    <span class="n"><img src="photos/v/v (8).jpg" height="150"/></span>
    <span class="n"><p>4</p><img src="photos/v/v (9).jpg" height="150"/></span>
    <span class="n"><img src="photos/v/v (10).jpg" height="150"/></span>
    <span class="n"><img src="photos/v/v (11).jpg" height="150"/></span>
  </div>
  <br/><br/>
  <h4>(V>)6 cycle</h4>
  <canvas id="sequences-v6-1" width="180" height="200"></canvas>
  <canvas id="sequences-v6-2" width="180" height="200"></canvas>
  <canvas id="sequences-v6-3" width="180" height="200"></canvas>
  <canvas id="sequences-v6-4" width="180" height="200"></canvas>
  <br/>
  <canvas id="sequences-v6-5" width="180" height="200"></canvas>
  <canvas id="sequences-v6-6" width="180" height="200"></canvas>
  <canvas id="sequences-v6-7" width="180" height="200"></canvas>
  <h4>(V&lt;)15 cycle</h4>
  <canvas id="sequences-v15-1" width="180" height="200"></canvas>
  <canvas id="sequences-v15-2" width="180" height="200"></canvas>
  <canvas id="sequences-v15-3" width="180" height="200"></canvas>
  <canvas id="sequences-v15-4" width="180" height="200"></canvas>
  <br/>
  <canvas id="sequences-v15-5" width="180" height="200"></canvas>
  <canvas id="sequences-v15-6" width="180" height="200"></canvas>
  <canvas id="sequences-v15-7" width="180" height="200"></canvas>
  <canvas id="sequences-v15-8" width="180" height="200"></canvas>
  <br/>
  <canvas id="sequences-v15-9" width="180" height="200"></canvas>
  <canvas id="sequences-v15-10" width="180" height="200"></canvas>
  <canvas id="sequences-v15-11" width="180" height="200"></canvas>
  <canvas id="sequences-v15-12" width="180" height="200"></canvas>
  <br/>
  <canvas id="sequences-v15-13" width="180" height="200"></canvas>
  <canvas id="sequences-v15-14" width="180" height="200"></canvas>
  <canvas id="sequences-v15-15" width="180" height="200"></canvas>
  <canvas id="sequences-v15-16" width="180" height="200"></canvas>
  <script type="text/javascript">
    drawSequence("sequences-v6-", 6, "(V*>)6", ["", "V>", "V>", "V>", "V>", "V>", "V>"], 1.1, -30);
    drawSequence("sequences-v15-", 6, "(V*<)15", ["", "V<", "V<", "V<", "V<", "V<", "V<", "V<", "V<", "V<", "V<", "V<", "V<", "V<", "V<", "V<"], 1.1, -30);
  </script>
  <br/>before/after<br/>
  <span id="V-minimal-before-1" width="190" height="180"></span>
  <span id="V-minimal-before-2" width="160" height="180"></span>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  <span id="V-minimal-after-1" width="190" height="180"></span>
  <span id="V-minimal-after-2" width="160" height="180"></span>
  <script type="text/javascript">
    drawBeforeAfter("V-minimal", "V", 6);
  </script>
  <br/>before/after<br/>
  <span id="V-8-before-1" width="167" height="180"></span>
  <span id="V-8-before-2" width="167" height="180"></span>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  <span id="V-8-after-1" width="180" height="180"></span>
  <span id="V-8-after-2" width="180" height="180"></span>
  <script type="text/javascript">
    drawBeforeAfter("V-8", "V", 8, [45, 90]);
  </script>

  <h3 id="tuck">tuck flex</h3>

  <div class="photos">
    <span class="n"><img src="photos/tuck/tuck bronze (1).jpg" height="150"/></span>
    <span class="n"><p>1</p><img src="photos/tuck/tuck bronze (2).jpg" height="150"/></span>
    <span class="n"><p>2</p><img src="photos/tuck/tuck bronze (3).jpg" height="150"/></span>
    <span class="n"><p>3</p><img src="photos/tuck/tuck bronze (4).jpg" height="150"/></span>
    <span class="n"><img src="photos/tuck/tuck bronze (5).jpg" height="150"/></span>
    <span class="n"><p>4</p><img src="photos/tuck/tuck bronze (6).jpg" height="150"/></span>
    <span class="n"><img src="photos/tuck/tuck bronze (7).jpg" height="150"/></span>
    <span class="n"><p>5</p><img src="photos/tuck/tuck bronze (8).jpg" height="150"/></span>
    <span class="n"><img src="photos/tuck/tuck bronze (9).jpg" height="150"/></span>
    <br/>
  </div>
  <br/><br/>
  <span id="T-minimal-before-1" width="160" height="180"></span>
  <span id="T-minimal-before-2" width="160" height="180"></span>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  <span id="T-minimal-after-1" width="160" height="180"></span>
  <span id="T-minimal-after-2" width="160" height="180"></span>
  <script type="text/javascript">
    drawBeforeAfter("T-minimal", "T", 6);
  </script>

  <h3 id="flip">flip flex</h3>

  <div class="photos">
    <span class="n"><img src="photos/flip/flip (1).jpg" width="150"/></span>
    <span class="n"><p>1</p><img src="photos/flip/flip (2).jpg" width="150"/></span>
    <span class="n"><img src="photos/flip/flip (3).jpg" width="150"/></span>
    <span class="n"><p>2</p><img src="photos/flip/flip (4).jpg" width="150"/></span>
    <span class="n"><img src="photos/flip/flip (5).jpg" width="150"/></span>
    <br/>
    <span class="n"><p>3</p><img src="photos/flip/flip (6).jpg" width="150"/></span>
    <span class="n"><img src="photos/flip/flip (7).jpg" width="150"/></span>
    <span class="n"><p>4</p><img src="photos/flip/flip (8).jpg" width="150"/></span>
    <span class="n"><p>5</p><img src="photos/flip/flip (9).jpg" width="150"/></span>
    <span class="n"><p>6</p><img src="photos/flip/flip (10).jpg" width="150"/></span>
  </div>
  <br/><br/>
  <span id="F-minimal-before-1" width="180" height="200"></span>
  <span id="F-minimal-before-2" width="180" height="200"></span>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  <span id="F-minimal-after-1" width="180" height="200"></span>
  <span id="F-minimal-after-2" width="180" height="200"></span>
  <script type="text/javascript">
    drawBeforeAfter("F-minimal", "F", 6, [60, 90]);
  </script>

  <h3 id="pyramid shuffle">pyramid shuffle</h3>

  <div class="photos">
    <span class="n"><img src="photos/pyramid-shuffle/pyramid-shuffle (1).jpg" height="150"/></span>
    <span class="n"><p>1</p><img src="photos/pyramid-shuffle/pyramid-shuffle (2).jpg" height="150"/></span>
    <span class="n"><img src="photos/pyramid-shuffle/pyramid-shuffle (3).jpg" height="150"/></span>
    <span class="n"><p>2</p><img src="photos/pyramid-shuffle/pyramid-shuffle (4).jpg" height="150"/></span>
    <span class="n"><img src="photos/pyramid-shuffle/pyramid-shuffle (5).jpg" height="150"/></span>
    <br/>
    <span class="n"><p>3</p><img src="photos/pyramid-shuffle/pyramid-shuffle (6).jpg" height="150"/></span>
    <span class="n"><p>4</p><img src="photos/pyramid-shuffle/pyramid-shuffle (7).jpg" height="150"/></span>
    <span class="n"><img src="photos/pyramid-shuffle/pyramid-shuffle (8).jpg" height="150"/></span>
    <span class="n"><p>5</p><img src="photos/pyramid-shuffle/pyramid-shuffle (9).jpg" height="150"/></span>
    <span class="n"><img src="photos/pyramid-shuffle/pyramid-shuffle (10).jpg" height="150"/></span>
    <br/>
    <span class="n"><p>6</p><img src="photos/pyramid-shuffle/pyramid-shuffle (11).jpg" height="150"/></span>
    <span class="n"><img src="photos/pyramid-shuffle/pyramid-shuffle (12).jpg" height="150"/></span>
    <span class="n"><p>7</p><img src="photos/pyramid-shuffle/pyramid-shuffle (13).jpg" height="150"/></span>
    <span class="n"><p>8</p><img src="photos/pyramid-shuffle/pyramid-shuffle (14).jpg" height="150"/></span>
    <span class="n"><img src="photos/pyramid-shuffle/pyramid-shuffle (15).jpg" height="150"/></span>
    <span class="n"><p>9</p><img src="photos/pyramid-shuffle/pyramid-shuffle (16).jpg" height="150"/></span>
  </div>
  <br/><br/>
  <span id="S-minimal-before-1" width="190" height="180"></span>
  <span id="S-minimal-before-2" width="160" height="180"></span>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  <span id="S-minimal-after-1" width="180" height="180"></span>
  <span id="S-minimal-after-2" width="160" height="180"></span>
  <script type="text/javascript">
    const labelsS5 = [[1, 2], [3, 2], [4, 5], [1, 5], [3, 4], [2, 1], [2, 3], [1, 3], [1, 2]];
    const scriptS5 = [{ numPats: 5, flexes: "S+>>", angles2: [] }, { setLabels: { labels: labelsS5, repeats: 1, colors: labelAsTree } }, { flexes: "<<" }];
    drawBeforeAfter("S-minimal", "S", 5, [], scriptS5);
  </script>

  <h3 id="breakdown">breaking down flexes</h3>

  <!-- St, Fm, and S3 -->
  St<br/>
  <span id="morph-St-before-1" width="190" height="200"></span><span id="morph-St-before-2" width="190" height="200"></span>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  <span id="morph-St-after-1" width="190" height="200"></span><span id="morph-St-after-2" width="190" height="200"></span>
  <br/>Fm<br/>
  <span id="morph-Fm-before-1" width="190" height="200"></span><span id="morph-Fm-before-2" width="190" height="200"></span>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  <span id="morph-Fm-after-1" width="190" height="200"></span><span id="morph-Fm-after-2" width="190" height="200"></span>
  <br/>S3<br/>
  <span id="morph-S3-before-1" width="190" height="200"></span><span id="morph-S3-before-2" width="190" height="200"></span>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  <span id="morph-S3-after-1" width="190" height="200"></span><span id="morph-S3-after-2" width="190" height="200"></span>
  <script type="text/javascript">
    drawBeforeAfter("morph-St", "St", 8, [45, 90]);
    drawBeforeAfter("morph-Fm", "Fm", 8, [45, 45]);
    drawBeforeAfter("morph-S3", "S3", 8, [45, 45]);
  </script>
  <!-- plain kite bronze octaflexagon -->
  <p>kite bronze octaflexagon</p>
  <span id="kite-plain" width="304" height="350"></span>
  <script type="text/javascript">
    drawFromName('kite-plain', 'kite bronze octaflexagon', 180);
  </script>

  <h3 id="slot-flexes">slot flexes</h3>

  <!-- part 3 -->

  <h2 id="part3">Part 3: Learning</h2>

  <!-- state-diagrams -->
  <h3 id="state-diagrams">state-diagrams</h3>

  <canvas id="diagram-tuckerman-4" width="139" height="200"></canvas>
  <canvas id="diagram-tuckerman-5" width="200" height="200"></canvas>
  <canvas id="diagram-tuckerman-6a" width="200" height="200"></canvas>
  <canvas id="diagram-tuckerman-6b" width="200" height="200"></canvas>
  <canvas id="diagram-tuckerman-6c" width="265" height="200"></canvas><br/>
  <canvas id="state-P3a" width="450" height="400"></canvas>
  <canvas id="state-P3b" width="450" height="400"></canvas>

  <script type="text/javascript">
    drawTuckerman("diagram-tuckerman-4", "(P*)2");
    drawTuckerman("diagram-tuckerman-5", "(P*)3");
    drawTuckerman("diagram-tuckerman-6a", "P* P* P+ > P P*");
    drawTuckerman("diagram-tuckerman-6b", "(P*^>)4");
    drawTuckerman("diagram-tuckerman-6c", "(P*)4");

    var script = [{ pats: [[-2, 1], [-7, [-3, [6, [4, -5]]]], [11, [-8, [-10, 9]]], 12, [[[15, -14], -16], 13], [18, -17]] }, { labelAsTree: [], searchFlexes: "S" }];
    var options = { showIds: true, structure: true, rotate: -30 };
    drawFlexagonComplex("state-P3a", script, options);
    drawFlexagonComplex("state-P3b", script, { ...options, back: true });
  </script>

  <!-- sequences -->
  <h3 id="sequences">sequences</h3>

  <p>(P>)3</p>
  <canvas id="sequences-pinch1" width="200" height="200"></canvas>
  <canvas id="sequences-pinch2" width="200" height="200"></canvas>
  <canvas id="sequences-pinch3" width="200" height="200"></canvas>
  <canvas id="sequences-pinch4" width="200" height="200"></canvas>
  <br/>

  <p>(F&lt;)6</p>
  <canvas id="sequences-flip1" width="200" height="200"></canvas>
  <canvas id="sequences-flip2" width="200" height="200"></canvas>
  <canvas id="sequences-flip3" width="200" height="200"></canvas>
  <canvas id="sequences-flip4" width="200" height="200"></canvas>
  <br/>
  <canvas id="sequences-flip5" width="200" height="200"></canvas>
  <canvas id="sequences-flip6" width="200" height="200"></canvas>
  <canvas id="sequences-flip7" width="200" height="200"></canvas>
  <br/>

  <p>(S>T'>^T&lt;&lt;^)2</p>
  <canvas id="sequences-s1" width="180" height="200"></canvas>
  <canvas id="sequences-s2" width="180" height="200"></canvas>
  <canvas id="sequences-s3" width="180" height="200"></canvas>
  <canvas id="sequences-s4" width="180" height="200"></canvas>
  <br/>
  <canvas id="sequences-s5" width="180" height="200"></canvas>
  <canvas id="sequences-s6" width="180" height="200"></canvas>
  <canvas id="sequences-s7" width="180" height="200"></canvas>
  <br/>

  <script type="text/javascript">
    drawSequence("sequences-pinch", 6, "P+", ["", "P>", "P>", "P>"]);
    drawSequence("sequences-flip", 8, "(F*<)6", ["", "F<", "F<", "F<", "F<", "F<", "F<"], 1.1, -22.5);
    drawSequence("sequences-s", 6, "S+", ["", "S>", "T'>^", "T<<^", "S>", "T'>^", "T<<^"], 1.1, -30);
  </script>

  <!-- pat-notation -->
  <h3 id="pat-notation">pat notation</h3>

  <p>example</p>
  <canvas id="pats-example-folded" width="500" height="500"></canvas><br/>
  <p>tri-hexa</p>
  <canvas id="pats-trihexa-folded1" width="500" height="500"></canvas>
  <canvas id="pats-trihexa-folded2" width="500" height="500"></canvas>
  <script type="text/javascript">
    // example
    var example = [
      { pats: [1, [-3, 2], [-6, [-4, 5]], [[8, -9], -7], -10, [[[-13, 12], 14], -11]] },
      { labelAsTree: [], searchFlexes: "P S T V" }
    ];
    var fm1 = Flexagonator.createFromScript(example);
    var regions = Flexagonator.drawEntireFlexagon("pats-example-folded", fm1, { showCurrent: false });
    Flexagonator.drawScriptButtons("pats-example-folded", fm1.flexagon, fm1.getAngleInfo(), true, regions);
    // tri-hexa
    var trihexa = [
      { pats: [[-2, 1], -3, [5, -4], 6, [-8, 7], -9] },
      { labelAsTree: [] }
    ];
    var fm2 = Flexagonator.createFromScript(trihexa);
    Flexagonator.drawEntireFlexagon("pats-trihexa-folded1", fm2, {});
    var fm3 = Flexagonator.runScript(fm2, [{ flexes: "P" }]);
    Flexagonator.drawEntireFlexagon("pats-trihexa-folded2", fm3, {});
  </script>

  <!-- atomic flex theory -->
  <h3 id="atomic-flex-theory">atomic flex theory</h3>

  <p>isoflexagons</p>
  <canvas id="atomic-iso1" width="230" height="250"></canvas>&nbsp;&nbsp;&nbsp;&nbsp;
  <canvas id="atomic-iso2" width="250" height="250"></canvas>
  <canvas id="atomic-iso3" width="250" height="250"></canvas>
  <canvas id="atomic-iso4" width="230" height="250"></canvas>
  <canvas id="atomic-iso5" width="240" height="250"></canvas><br/>
  <p>non-isoflexagons</p>
  <canvas id="atomic-non-iso1" width="250" height="250"></canvas>&nbsp;&nbsp;&nbsp;
  <canvas id="atomic-non-iso2" width="310" height="250"></canvas>&nbsp;&nbsp;
  <canvas id="atomic-non-iso3" width="200" height="250"></canvas>&nbsp;&nbsp;
  <canvas id="atomic-non-iso4" width="230" height="250"></canvas>&nbsp;&nbsp;
  <canvas id="atomic-non-iso5" width="200" height="250"></canvas><br/>
  <p>pentagonal silver decaflexagon</p>
  <img src="images/pentagonal-silver-deca-directions.png"/>
  <p>pyramid shuffle with directions</p>
  <canvas id="atomic-shuffle-directions" width="1000" height="650"></canvas><br/>
  <img src="images/shuffle-directions.png"/>
  <script>
    drawFromName("atomic-iso1", "pentaflexagon", 18);
    drawFromName("atomic-iso2", "hexaflexagon", 0);
    drawFromName("atomic-iso3", "bronze hexaflexagon", 30);
    drawFromName("atomic-iso4", "heptaflexagon", -12.5);
    drawFromName("atomic-iso5", "right decaflexagon", -18);
    drawFromName("atomic-non-iso1", "pentagonal silver decaflexagon", 45);
    drawFromName("atomic-non-iso2", "hexagonal silver dodecaflexagon", 90);
    drawFromName("atomic-non-iso3", "octagonal ring dodecaflexagon", 0);
    drawFromName("atomic-non-iso4", "hexagonal ring dodecaflexagon", 0);
    drawFromName("atomic-non-iso5", "octagonal ring tetradecaflexagon", 0);
    const theScript = [{ pats: [[-2, 1], -3, -4, -5, [[[-8, 7], 9], -6], 10] }];
    const theOptions = { rotation: 120, content: { showIds: true }, captions: starCaptions };
    drawStripComplex("atomic-shuffle-directions", theScript, theOptions);
  </script>

  <!-- groups-->
  <h3 id="groups">groups</h3>

  <canvas id="group-tetra1" width="250" height="250"></canvas>
  <canvas id="group-tetra2" width="250" height="250"></canvas>
  <script type="text/javascript">
    var script = [{ numPats: 6 }, { angles: [60, 60] }, { flexes: "(P*)2" }, { searchFlexes: "P" }];
    // face only supports P at 3 hinges
    drawFlexagonComplex("group-tetra1", script, { showNumbers: false });
    // face supports P at all 6 hinges
    drawFlexagonComplex("group-tetra2", script.concat({ flexes: ">P<P" }), { showNumbers: false });
  </script>

  <!-- computers-->
  <h3 id="computers">computers</h3>
  <p>state 1011</p>
  <canvas id="computer-1011" width="400" height="400"></canvas><br/>
  <p>state 111 before and after R111</p>
  <canvas id="computer-R111-pre" width="400" height="400"></canvas>
  <canvas id="computer-R111-post" width="400" height="400"></canvas><br/>
  <p>state 1011 with copies of each cell</p>
  <canvas id="computer-copy" width="400" height="400"></canvas><br/>
  <p>state 1011, after Rx01, after copy</p>
  <canvas id="computer-start" width="400" height="400"></canvas>
  <canvas id="computer-Rx01" width="400" height="400"></canvas>
  <canvas id="computer-final" width="400" height="400"></canvas><br/>
  <script type="text/javascript">
    const flexT = { addFlex: { shorthand: "T", sequence: "Tf" } };
    const flexR111a = { addFlex: { shorthand: "R111", sequence: "<<T'T>> T'T >>T'T<< T'" } };
    const flexR111b = { addFlex: { shorthand: "R111", sequence: "<<T'T>> T'T >>>>T'T<<<< T'" } };
    const flexRx01 = { addFlex: { shorthand: "Rx01", sequence: "TT' >>>>T'T<<<< T" } };
    const flexCon = { addFlex: { shorthand: "Con", sequence: "T'T >>T<<" } };
    const flexCoff = { addFlex: { shorthand: "Coff", sequence: "TT' >>T'<<" } };
    const init12 = "(T*>>)6", init16 = "(T*>>)8", init32 = "(T*>>)16";

    // state 1011
    const script1 = [{ numPats: 16 }, flexT, { flexes: init16, labelAsTree, searchFlexes: "T T'" }, { flexes: "T'>>" }];
    drawFlexagonComplex("computer-1011", script1, { rotate: 11.25, structure: true });
    // state 111 before and after R111
    const script2 = [{ numPats: 12 }, flexT, flexR111a, { flexes: init12, labelAsTree, searchFlexes: "R111" }, { flexes: "(T'>>)3 >>" }];
    drawFlexagonComplex("computer-R111-pre", script2, { rotate: -15, structure: true });
    drawFlexagonComplex("computer-R111-post", [...script2, { flexes: "R111" }], { rotate: -15, structure: true });

    // state 1011 with copies of each cell
    const isOn = { label: "1", color: 0x7fbcff }, isOff = { label: "0", color: 0xff827f };
    const copyOn = { label: "1", color: 0xbfecff }, copyOff = { label: "0", color: 0xffc2bf };
    const propsArray = [
      { front: isOn }, { front: copyOff }, null, { front: copyOn, back: copyOff },
      { front: copyOn }, { front: isOff }, null, { front: isOn, back: isOff },
    ];
    const leafProps32 = propsArray.concat(propsArray).concat(propsArray).concat(propsArray).concat(propsArray).concat(propsArray).concat(propsArray).concat(propsArray);
    const script3 = [
      { numPats: 32 }, flexT, { flexes: init32, searchFlexes: "T T'" }, { normalizeIds: true }, { leafProps: leafProps32 },
      { flexes: "(T'>>)2" } // 1011
    ];
    drawFlexagonComplex("computer-copy", script3, { rotate: 11.25 / 2, structure: false });

    // state 1011, after Rx01, after copy
    const script4 = [
      { numPats: 32 }, flexT, flexR111b, flexRx01, flexCon, { flexes: init32, searchFlexes: "" },
      { normalizeIds: true }, { leafProps: leafProps32 },
      { flexes: "(T'>>)2 (>)4 (T'>>)2 (>)4 (>)4 (T'>>)2 (<)12" } // 010110
    ];
    drawFlexagonComplex("computer-start", [...script4, { searchFlexes: "Rx01" }], { rotate: 11.25 / 2, structure: false });
    drawFlexagonComplex("computer-Rx01", [...script4, { flexes: "<<<<Rx01>>>>", searchFlexes: "Con" }], { rotate: 11.25 / 2, structure: false });
    drawFlexagonComplex("computer-final", [...script4, { flexes: "<<<<Rx01 Con>>>>", searchFlexes: "R111" }], { rotate: 11.25 / 2, structure: false });
  </script>

  <!-- part 4 -->

  <h2 id="part4">Part 4: Exploring</h2>

  <h3 id="square-silver-octa">square silver octa</h3>
  <span id="sso-plain" width="272" height="270"></span><br/><br/>
  <script type="text/javascript">
    drawFromName('sso-plain', 'square silver octaflexagon', 90);
  </script>
  <canvas id="silverOcta-state12-1" width="380" height="250"></canvas>
  <canvas id="silverOcta-state12-2" width="300" height="250"></canvas><br/><br/>
  <canvas id="silverOcta-state13-1" width="260" height="250"></canvas>
  <canvas id="silverOcta-state13-2" width="260" height="250"></canvas><br/><br/>
  <script type="text/javascript">
    var hexa = [{
      numPats: 8, angles2: [45, 45], searchFlexes: "P T2 S F V Tw St",
      flexAndColor: { flexes: "P* P+ >P>P P+ ^P P+ ^P^", colors: labelAsTree }
    }];

    drawFlexagonComplex("silverOcta-state12-1", hexa, { rotate: 45 / 2, back: true });
    drawFlexagonComplex("silverOcta-state12-2", hexa.concat({ searchFlexes: "P T2 V Tw" }), { rotate: 45 / 2 });
    drawFlexagonComplex("silverOcta-state13-1", hexa.concat({ flexes: "^P^" }), { rotate: 45 / 2 });
    drawFlexagonComplex("silverOcta-state13-2", hexa.concat({ flexes: "^P^" }), { rotate: 45 / 2, back: true });
  </script>

  <h3 id="hexa-bronze-dodeca">hexagonal bronze dodeca</h3>
  <span id="hbd-plain" width="310" height="270"></span>
  <script type="text/javascript">
    drawFromName('hbd-plain', 'hexagonal bronze dodecaflexagon', 90);
  </script>

  <h3 id="hexa-silver-dodeca">hexagonal silver dodeca</h3>

  <canvas id="hsd-plain" width="500" height="270"></canvas><br/>
  <canvas id="hsd-tucks" width="500" height="400"></canvas>
  <script type="text/javascript">
    drawFromName('hsd-plain', 'hexagonal silver dodecaflexagon', 90);

    const tuckFlexes = [
      { name: "hexagonal silver dodecaflexagon" },
      { flexes: "<(Tf+>>>Tf+>>>)2", labelAsTree },
      { searchFlexes: "Tf" }
    ];
    drawFlexagonComplex("hsd-tucks", tuckFlexes, {});
  </script>

  <h3 id="bracelets">bracelets</h3>

  <h3 id="octa-ring-14">octagonal ring tetradecaflexagon</h3>

  <span id="octa-ring-14-main" width="280" height="200"></span><br/>
  <canvas id="octa-ring-14-flexes" width="560" height="400"></canvas><br/><br/>
  <script type="text/javascript">
    drawFromName("octa-ring-14-main", "octagonal ring tetradecaflexagon", 54);

    const localFlexes = [
      { name: "octagonal ring tetradecaflexagon" }, { addMorphFlexes: true },
      { flexes: "(Tr2+ >> Tf+Bf+Tr4+ >> Tr3+ > Tf+Bf+Tr4+ >>)2", labelAsTree },
      { searchFlexes: "Tf Tr2 Tr3 Tr4 Bf" }
    ];
    drawFlexagonComplex("octa-ring-14-flexes", localFlexes, {});
  </script>

  <hr />

  <!-- part 5 -->

  <h2 id="part5">Part 5: Fun</h2>

  <!-- decorating -->
  <h3 id="decorating">decorating</h3>

  <span id="decorate-hexa" width="200" height="200"></span>
  <span id="decorate-octa" width="200" height="200"></span>&nbsp;&nbsp;&nbsp;
  <span id="decorate-star-deca" width="200" height="200"></span>&nbsp;&nbsp;&nbsp;
  <span id="decorate-star-dodeca" width="200" height="200"></span>
  <br/><br/>
  <image src="images/peirce-quincuncial.png" />
  <script type="text/javascript">
    drawFromName("decorate-hexa", "hexaflexagon", 30);
    drawFromName("decorate-octa", "silver octaflexagon", 0);
    drawFromName("decorate-star-deca", "star decaflexagon", 18);
    drawFromName("decorate-star-dodeca", "star dodecaflexagon", 0);
  </script>

  <!-- puzzles & mazes -->
  <h3 id="puzzles">puzzles & mazes</h3>

  <!-- popups -->
  <h3 id="popups">popups</h3>

  <!-- appendix -->

  <h2 id="appendix">Appendix</h2>

  <!-- compendium -->
  <h3 id="compendium">compendium</h3>

  <canvas id="compendium-base1" width="160" height="200"></canvas>
  <canvas id="compendium-base2" width="160" height="200"></canvas>
  <br/>
  <p>global</p>
  P
  <canvas id="compendium-p1" width="160" height="200"></canvas>
  <canvas id="compendium-p2" width="160" height="200"></canvas>
  V
  <canvas id="compendium-v1" width="160" height="200"></canvas>
  <canvas id="compendium-v2" width="160" height="200"></canvas>
  Lh
  <canvas id="compendium-lh1" width="160" height="200"></canvas>
  <canvas id="compendium-lh2" width="160" height="200"></canvas>
  <br/>
  Ltb
  <canvas id="compendium-ltb1" width="160" height="200"></canvas>
  <canvas id="compendium-ltb2" width="160" height="200"></canvas>
  Lbf
  <canvas id="compendium-lbf1" width="160" height="200"></canvas>
  <canvas id="compendium-lbf2" width="160" height="200"></canvas>
  Lbb
  <canvas id="compendium-lbb1" width="160" height="200"></canvas>
  <canvas id="compendium-lbb2" width="160" height="200"></canvas>

  <p>local</p>
  T
  <canvas id="compendium-t1" width="160" height="200"></canvas>
  <canvas id="compendium-t2" width="160" height="200"></canvas>
  S
  <canvas id="compendium-s1" width="160" height="200"></canvas>
  <canvas id="compendium-s2" width="160" height="200"></canvas>
  F
  <canvas id="compendium-f1" width="160" height="200"></canvas>
  <canvas id="compendium-f2" width="160" height="200"></canvas>
  <br/>
  St
  <canvas id="compendium-st1" width="160" height="200"></canvas>
  <canvas id="compendium-st2" width="160" height="200"></canvas>
  S3
  <canvas id="compendium-s31" width="160" height="200"></canvas>
  <canvas id="compendium-s32" width="160" height="200"></canvas>
  Fm
  <canvas id="compendium-fm1" width="160" height="200"></canvas>
  <canvas id="compendium-fm2" width="160" height="200"></canvas>
  <br/>
  Ltf
  <canvas id="compendium-ltf1" width="160" height="200"></canvas>
  <canvas id="compendium-ltf2" width="160" height="200"></canvas>
  Lk
  <canvas id="compendium-lk1" width="160" height="200"></canvas>
  <canvas id="compendium-lk2" width="160" height="200"></canvas>

  <script type="text/javascript">
    var script = [{ numPats: 6 }, { flexes: "P+V+T+S+F+St+S3+Fm+Ltb+Lbf+Lbb+Lh+Ltf+Lk+" }, { labelAsTree }];
    var fm = Flexagonator.createFromScript(script);
    var options1 = { showIds: false, scale: 1.1, rotate: -30, showCurrent: false, showCenterMarker: true };
    var options2 = { ...options1, back: true };
    function drawSequence(canvasId, flex) {
      fm.applyFlexes(flex);
      Flexagonator.drawEntireFlexagon(canvasId + "1", fm, options1);
      Flexagonator.drawEntireFlexagon(canvasId + "2", fm, options2);
      fm.undo();
    }

    Flexagonator.drawEntireFlexagon("compendium-base1", fm, options1);
    Flexagonator.drawEntireFlexagon("compendium-base2", fm, options2);

    drawSequence("compendium-p", "P");
    drawSequence("compendium-v", "V");
    drawSequence("compendium-lh", "Lh");
    drawSequence("compendium-ltb", "Ltb");
    drawSequence("compendium-lbf", "Lbf");
    drawSequence("compendium-lbb", "Lbb");

    drawSequence("compendium-t", "T");
    drawSequence("compendium-s", "S");
    drawSequence("compendium-f", "F");
    drawSequence("compendium-st", "St");
    drawSequence("compendium-s3", "S3");
    drawSequence("compendium-fm", "Fm");
    drawSequence("compendium-ltf", "Ltf");
    drawSequence("compendium-lk", "Lk");
  </script>

</body>

</html>
