<!DOCTYPE html>
<meta charset="UTF-8">
<html>

<head>
  <title>color templates</title>

  <script src="../build/out.js"></script>
  <script type="text/javascript">
    // draw * on the edges that should be taped together
    const starCaptions = [{ text: "*", which: 0 }, { text: "*", which: -1 }];
    // common colors for faces
    const labelAsTree = [0x7fbcff, 0x7fff82, 0xff827f, 0xc27fff, 0xfbff7f];

    // draw an unfolded strip, front & back, for a generating sequence that's not just pinch flexes
    // canvasId: string, numPats: number, flexes: string, rotation: number, angles: [number],
    //   postFlexes: string (run after leaves are numbered), whereFlex: number (which pat to label with the generating sequence)
    //   edge: [optional] which edge to draw flex on
    function drawStripSequence(canvasId, numPats, flexes, rotation, angles, postFlexes, whereFlex, edge) {
      const script = [{ numPats, flexes, angles, labelAsTree, reverseFlexes: flexes }, { flexes: postFlexes }];
      const fm = Flexagonator.createFromScript(script);
      const captions = whereFlex === undefined ? [{ text: flexes, which: 0 }, { text: "*", which: -1 }]
        : [{ text: "*", which: 0 }, { text: "*", which: -1 }, { text: flexes, which: whereFlex, edge }];

      const options1 = { rotation, content: { showLeafProps: true, face: 'front' }, captions };
      const options2 = { rotation, content: { showLeafProps: true, face: 'back' }, captions };
      Flexagonator.drawUnfolded(canvasId + "1", fm, options1);
      Flexagonator.drawUnfolded(canvasId + "2", fm, options2);
    }
  </script>

</head>

<body>

  <h1>Color Templates</h1>

  <h2>flip</h2>
  <canvas id="F-8-minimal1" width="1000" height="400"></canvas><br/><br/>
  <canvas id="F-8-minimal2" width="1000" height="400"></canvas><br/><br/>
  <canvas id="F-6-minimal1" width="900" height="520"></canvas><br/><br/>
  <canvas id="F-6-minimal2" width="900" height="520"></canvas><br/><br/>
  <script type="text/javascript">
    drawStripSequence("F-8-minimal", 8, "F*", 0, [45, 90], ">>", -2, 1);
    drawStripSequence("F-6-minimal", 6, "F*", 90, [60, 90], ">>", -2, 1);
  </script>

  <h2>tuck</h2>
  <canvas id="T-6-bronze-minimal1" width="800" height="555"></canvas><br/><br/>
  <canvas id="T-6-bronze-minimal2" width="800" height="555"></canvas><br/><br/>
  <canvas id="T-6-minimal1" width="920" height="400"></canvas><br/><br/>
  <canvas id="T-6-minimal2" width="920" height="400"></canvas><br/><br/>
  <script type="text/javascript">
    drawStripSequence("T-6-bronze-minimal", 6, "T*", 120, [60, 30], "^>>", -2);
    drawStripSequence("T-6-minimal", 6, "T*", -60, undefined, "^>>", -2);
  </script>

  <h2>pyramid shuffle</h2>
  <canvas id="S-6-minimal1" width="810" height="600"></canvas><br/><br/>
  <canvas id="S-6-minimal2" width="810" height="600"></canvas><br/><br/>
  <canvas id="S-8-silver-minimal1" width="1000" height="402"></canvas><br/><br/>
  <canvas id="S-8-silver-minimal2" width="1000" height="402"></canvas><br/><br/>
  <script type="text/javascript">
    drawStripSequence("S-6-minimal", 6, "S*", -120, undefined, ">>", -2, 1);
    drawStripSequence("S-8-silver-minimal", 8, "S*", 0, [45, 90], ">>", -2, 1);
  </script>

  <h2>v-flex</h2>
  <canvas id="V-minimal1" width="1000" height="435"></canvas>
  <canvas id="V-minimal2" width="1000" height="435"></canvas>
  <script type="text/javascript">
    drawStripSequence("V-minimal", 6, "V*", 60);
  </script>

  <h2>silver tetra</h2>
  <canvas id="St-minimal1" width="800" height="400"></canvas>
  <canvas id="St-minimal2" width="800" height="400"></canvas>
  <script type="text/javascript">
    drawStripSequence("St-minimal", 4, "St*", 45, [45, 90], "^");
  </script>

  <h2>breaking down flexes</h2>
  <canvas id="silverHalfFlexes1" width="1000" height="500"></canvas><br/><br/>
  <canvas id="silverHalfFlexes2" width="1000" height="500"></canvas><br/><br/>
  <script type="text/javascript">
    var silverHalfFlexes = [
      { numPats: 8, "angles": [45, 45], "addHalfFlexes": true },
      { flexes: "> Hf* Hb'+Hl'+Hr'+Hbs'+Hfs'+ Hf' Hb* Hf'+Hl'+Hr'+Hbs'+Hfs'+ Hb' Hl* Hf'+Hb'+Hr'+Hbs'+Hfs'+ Hl' Hr* Hf'+Hb'+Hl'+Hbs'+Hfs'+ Hr' Hbs* Hf'+Hb'+Hl'+Hr'+Hfs'+ Hbs' Hfs* Hf'+Hb'+Hl'+Hr'+Hbs'+ Hfs' >>>>" },
      { labelAsTree }
    ];
    var fm = Flexagonator.createFromScript(silverHalfFlexes);
    var captions = [{ text: "H's", which: 0 }, { text: "H's", which: -1 }];
    Flexagonator.drawUnfolded('silverHalfFlexes1', fm, { rotation: 135, captions, content: { showLeafProps: true, face: 'front' } });
    Flexagonator.drawUnfolded('silverHalfFlexes2', fm, { rotation: 135, captions, content: { showLeafProps: true, face: 'back' } });
  </script>

</body>

</html>
